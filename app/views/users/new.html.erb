<% provide(:title, 'Sign up') %>
<h1>Sign up</h1>

<% bagage_count = 1 %>
<div class="row"> 
  <div class="col-md-6 col-md-offset-3"> 
    <%= form_for(@user) do |f| %>
        <%= render 'shared/error_messages', object: f.object %>
      	<%= f.label :name %> <%= f.text_field :name, class: 'form-control' %>
      	<%= f.label :email %> <%= f.text_field :email, class: 'form-control' %>
      	<%= f.label :password %> <%= f.password_field :password, class: 'form-control' %>
      	<%= f.label :password_confirmation, "Confirmation" %>
      	<%= f.password_field :password_confirmation, class: 'form-control' %>

        <h2>Pr√©cisez les informations pour vos bagages</h2>
        <%= f.fields_for :bagages do |bagages_form| %>
          <%= render partial: 'users/info_bagages', locals: {b: bagage_count, f: bagages_form} %>
          <% bagage_count += 1 %>
        <% end %>
        <%= hidden_field_tag(:bagages, params[:bagages]) %>
        <%= hidden_field_tag(:vol_id,  params[:vol_id]) %>
        <div class = "col-sm-12.text-center">
          <%= f.submit "Create my account", class: "btn btn-primary" %> 
        </div>
    <% end %>
  </div> 
</div>